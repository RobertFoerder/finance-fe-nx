<div class="shadow-lg rounded-md h-auto bg-white flex flex-col p-2">
  <div
    class="flex flex-row items-center border-b-0 border-black"
    [class.border-b-2]="expanded"
  >
    <button (click)="expanded = !expanded">
      <svg class="h-2 w-2" viewBox="0 0 10 6">
        <path [class.hidden]="expanded" d="M 0 0 l 5 6 l 5 -6" />
        <path [class.hidden]="!expanded" d="M 0 6 l 5 -6 l 5 6" />
      </svg>
    </button>
    <span class="ml-2 text-lg font-bold">{{ date | date: 'MMMM YYYY' }}</span>
    <span
      class="flex-grow text-right text-lg font-bold"
      [class.income]="total > 0"
      [class.expense]="total < 0"
      >{{ total | currency: 'EUR' }}</span
    >
  </div>
  <div class="pt-4 pb-2 pl-2" *ngIf="expanded">
    <div
      class="mb-2"
      *ngFor="
        let category of facade.getMonthlyEntriesGroupedByCategory(month) | async
      "
    >
      <div class="border-b-2">
        <span class="font-bold">{{ category.category }}</span>
      </div>
      <div class="flex" *ngFor="let entry of category.entries">
        <span>{{ entry.description }}</span>
        <span
          class="flex-grow text-right"
          [class.expense]="entry.value && entry.value < 0"
          [class.income]="entry.value && entry.value > 0"
        >
          {{ entry.value | currency: 'EUR' }}
        </span>
      </div>
    </div>
  </div>
</div>
