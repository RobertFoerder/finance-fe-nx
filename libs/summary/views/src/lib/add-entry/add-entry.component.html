<span *ngIf="facade.adding$ | async">Adding...</span>
<form
  *ngIf="(facade.adding$ | async) === false"
  (ngSubmit)="onSubmit()"
  #entryForm="ngForm"
  class="max-w-md"
>
  <div>
    <label for="year">Year</label>
    <input name="year" type="text" [ngModel]="entry.year" readonly />
  </div>
  <div>
    <label for="month">Month</label>
    <input
      name="month"
      type="text"
      [ngModel]="entry.month | monthToDate | date: 'MMMM'"
      readonly
    />
  </div>
  <div>
    <label for="category">Category*</label>
    <input name="category" type="text" [(ngModel)]="entry.category" required />
  </div>
  <div>
    <label for="description">Description*</label>
    <input
      name="description"
      type="text"
      [(ngModel)]="entry.description"
      required
    />
  </div>
  <div>
    <label for="value">Value*</label>
    <div class="flex flex-row mb-0 items-center">
      <div class="flex flex-row mb-0">
        <button
          tabindex="-1"
          type="button"
          class="switch-button switch-button-left income"
          (click)="isIncome = true"
          [class.selected]="isIncome"
        >
          +
        </button>
        <button
          tabindex="-1"
          type="button"
          class="switch-button switch-button-right expense"
          (click)="isIncome = false"
          [class.selected]="!isIncome"
        >
          -
        </button>
      </div>
      <input
        class="flex-grow ml-2"
        name="value"
        type="number"
        min="0"
        [(ngModel)]="entry.value"
        required
      />
    </div>
  </div>
  <div>
    <button
      [disabled]="entryForm.form.untouched || !entryForm.form.valid"
      type="submit"
      class="btn-primary mt-2"
    >
      Add entry
    </button>
  </div>
</form>
